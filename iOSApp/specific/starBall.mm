#import "starBall.h"#import "mx4.h"@implementation starBall- (id)init {    int i;     	if ((self = [super init])) {        for (i=0; i<NUM_STARS; ++i) {             stars[i] = [[star alloc] init];        }                lastCount = 0;         loaded = 0;         time = 0.0;        hidden=0;     }		return self;}- (void)setup:(sgManager*)aSG {         theSG = aSG; }- (void)addStar:(int)con:(float)ra:(float)dc:(float)mag {    mVec3 p;         if (lastCount<NUM_STARS) {         [stars[lastCount] reset: con:ra:dc:mag];                [stars[lastCount] getVec:&p];         starInds[lastCount] = [theSG addBillboard :&p: mag: (15-(con%5)): 0];                 ++lastCount;     }}- (void)update:(mVec3 *)g {    int i;    mVec3 p;            if (hidden == 0) {        for (i=0; i<lastCount; ++i) {            [stars[i] getVec:&p];             mvAddEq(&p, g);             [theSG updateBillboard: starInds[i]: &p: [stars[i] getMag]];         }    }}- (void)showStars {    int i;        for (i=0; i<lastCount; ++i) {        [theSG unhideBillboard: starInds[i]];    }    hidden=0;    }- (void)hideStars {    int i;    for (i=0; i<lastCount; ++i) {        [theSG hideBillboard: starInds[i]];    }    hidden = 1; }@end